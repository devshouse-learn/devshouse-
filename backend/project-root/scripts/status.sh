#!/bin/bash

# ๐ฏ INSTRUCCIONES DE USO - DEVSHOUSE SERVICES

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "โ          ๐ DEVSHOUSE - SERVICIOS EN FUNCIONAMIENTO       โ"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "โ ESTADO ACTUAL:"
echo "  โข Backend:  http://localhost:3001 โ"
echo "  โข Frontend: http://localhost:5173 โ"
echo "  โข Base de Datos: PostgreSQL AWS RDS โ"
echo "  โข Monitor de Servicios: ACTIVO โ"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ VERIFICAR CONECTIVIDAD:"
echo ""
echo "  Backend + BD:"
echo "    $ curl http://localhost:3001/api/health"
echo ""
echo "  Frontend:"
echo "    $ curl http://localhost:5173/"
echo ""
echo "  Ambos:"
echo "    $ sleep 3 && curl -s http://localhost:3001/api/health && echo '' && curl -s http://localhost:5173/ | head -5"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ VER LOGS EN TIEMPO REAL:"
echo ""
echo "  Backend:"
echo "    $ tail -f /tmp/backend.log"
echo ""
echo "  Frontend:"
echo "    $ tail -f /tmp/frontend.log"
echo ""
echo "  Monitor de Servicios:"
echo "    $ tail -f /tmp/monitor.log"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ MONITOREO AUTOMรTICO:"
echo ""
echo "  โ Se reinicia automรกticamente cada 10 segundos"
echo "  โ Detecta si Backend o Frontend se caen"
echo "  โ Se reinician automรกticamente sin intervenciรณn"
echo "  โ Base de datos siempre conectada"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ PARA DETENER SERVICIOS:"
echo ""
echo "  Opciรณn 1 (Recomendado - Limpio):"
echo "    $ pkill -f 'monitor-services.sh'"
echo ""
echo "  Opciรณn 2 (Fuerza):"
echo "    $ pkill -9 npm; pkill -9 node"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ง REINICIAR SERVICIOS:"
echo ""
echo "  $ nohup bash /Users/ibacrea/Documents/devshouse-/monitor-services.sh > /tmp/monitor.log 2>&1 &"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐๏ธ  INFORMACIรN IMPORTANTE:"
echo ""
echo "  Scripts:"
echo "    โข /Users/ibacrea/Documents/devshouse-/monitor-services.sh"
echo "    โข /Users/ibacrea/Documents/devshouse-/start-services.sh"
echo ""
echo "  Documentaciรณn:"
echo "    โข /Users/ibacrea/Documents/devshouse-/SERVICES-MONITOR.md"
echo ""
echo "  Configuraciรณn Frontend โ Backend:"
echo "    โข /Users/ibacrea/Documents/devshouse-/frontend/src/config/constants.js"
echo "    โข BASE_URL: http://localhost:3001/api"
echo ""
echo "  Configuraciรณn Backend โ BD:"
echo "    โข /Users/ibacrea/Documents/devshouse-/backend/.env"
echo "    โข BD_HOST: ibacrea-postgres-db.cxue6u0qsdft.us-east-1.rds.amazonaws.com"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "โจ ยกSistema funcionando correctamente!"
echo ""
